<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  
    <title>CAPSUL &#8212; CAPSUL - Chain algorithm in pipelines and execute in many contexts</title>
  <!-- htmltitle is before nature.css - we use this hack to load bootstrap first -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../_static/css/bootstrap.min.css" media="screen" />
  <link rel="stylesheet" href="../_static/css/bootstrap-responsive.css"/>
  <link rel="icon" href="../_static/capsul_logo.svg"/>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=f0b81668" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    
    <script src="../_static/documentation_options.js?v=4d935f96"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

  <!-- sidebar -->
  
   
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="../_static/js/bootstrap.min.js" type="application/javascript"></script>

  <script type="application/javascript">
    $("div.buttonNext, div.buttonPrevious").hover(
       function () {
           $(this).css('background-color', '#FF9C34');
       },
       function () {
           $(this).css('background-color', '#A7D6E2');
       }
    );
    var bodywrapper = $('.bodywrapper');
    var sidebarbutton = $('#sidebarbutton');
    sidebarbutton.css({'height': '900px'});
  </script>

  <div class="header" style="display: inline; width: 80%; margin-left:10%;">
    <a href="../index.html">
    <img src="../_static/capsul_logo.svg" alt="Capsul logo" style="display: inline; height:4em;"/>
    </a >
    <div class="navbar" style="display: inline;">
      <ul>
        <li><a href="../index.html">Home</a></li>
        <li><a href="../installation.html">Installation</a></li>
        <li class="btn-li">
          <div class="btn-group">
            <a href="../documentation.html">Documentation</a>
            <a class="btn dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li class="link-title">CAPSUL</li>
              <li><a href="../user_guide_tree/index.html">User guide</a></li>
              <li><a href="index.html">API</a></li>
            </ul>
          </div>
        </li>
        <li>
          <!-- form action="search.html" method="get" style="display: inline-block;"></form>
            <input type="text" class="search-header" name="q" placeholder="search documentation..." value=""></input>
            <button type="submit" >search</button>
          </form -->
          <form class="search_box" method="get" action="http://www.google.com/search" style="display: inline-block;">
            <input class="search-header" type="text" name="q" placeholder="search documentation..." />
            <input class="submit" type="image" src="../_static/find_read.png" value="Search" />
            <input type="hidden" name="sitesearch" value="brainvisa.info/capsul" />
          </form>
        </li>
      </ul>
    </div> <!-- end navbar -->
  </div>


  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CAPSUL</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CAPSUL</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="capsul-process">
<h1>capsul.process<a class="headerlink" href="#capsul-process" title="Link to this heading">¶</a></h1>
<div class="graphviz"><img src="../_images/inheritance-66047d19fa4223bea6ca58b453fd030115dd7f5e.png" alt="Inheritance diagram of capsul.process, capsul.process.process, capsul.process.nipype_process, capsul.process.runprocess, capsul.process.xml, capsul.pipeline.pipeline, capsul.pipeline.process_iteration" usemap="#inheritanced017b83529" class="inheritance graphviz" /></div>
<map id="inheritanced017b83529" name="inheritanced017b83529">
<area shape="rect" id="node1" href="https://docs.enthought.com/traits/traits_api_reference/ctraits.html#traits.ctraits.CHasTraits" target="_top" title="Base class for HasTraits." alt="" coords="32,153,123,179"/>
<area shape="rect" id="node3" href="https://docs.enthought.com/traits/traits_api_reference/has_traits.html#traits.has_traits.HasTraits" target="_top" title="Enables any Python class derived from it to have trait attributes." alt="" coords="209,153,291,179"/>
<area shape="rect" id="node2" href="https://populse.github.io/soma-base/api.html#soma.controller.controller.Controller" target="_top" title="A Controller contains some traits: attributes typing and observer" alt="" coords="351,153,437,179"/>
<area shape="rect" id="node5" href="#capsul.process.process.Process" target="_top" title="A process is an atomic component that contains a processing." alt="" coords="485,153,557,179"/>
<area shape="rect" id="node4" href="#capsul.process.process.FileCopyProcess" target="_top" title="A specific process that copies all the input files." alt="" coords="613,55,741,80"/>
<area shape="rect" id="node8" href="#capsul.process.process.NipypeProcess" target="_top" title="Base class used to wrap nipype interfaces." alt="" coords="796,55,915,80"/>
<area shape="rect" id="node6" href="#capsul.process.process.InteractiveProcess" target="_top" title="Base class for interactive processes. The value of the is_interactive " alt="" coords="605,104,748,129"/>
<area shape="rect" id="node9" href="pipeline.html#capsul.pipeline.pipeline.Pipeline" target="_top" title="Pipeline containing Process nodes, and links between node parameters." alt="" coords="639,153,714,179"/>
<area shape="rect" id="node10" href="pipeline.html#capsul.pipeline.process_iteration.ProcessIteration" target="_top" title=".. note::" alt="" coords="613,203,740,228"/>
<area shape="rect" id="node14" href="#capsul.process.xml.XMLProcess" target="_top" title="Base class of all generated classes for processes defined as a Python" alt="" coords="627,252,727,277"/>
<area shape="rect" id="node7" href="https://docs.enthought.com/traits/traits_api_reference/has_traits.html#traits.has_traits.MetaHasTraits" target="_top" title="Controls the creation of HasTraits classes." alt="" coords="20,104,135,129"/>
<area shape="rect" id="node11" href="#capsul.process.process.ProcessMeta" target="_top" title="Class used to complete a process docstring" alt="" coords="197,104,303,129"/>
<area shape="rect" id="node12" href="#capsul.process.runprocess.ProcessParamError" target="_top" title="Exception used in the ``runprocess`` module" alt="" coords="5,55,149,80"/>
<area shape="rect" id="node13" href="#capsul.process.process.ProcessResult" target="_top" title="Object that contains running information a particular Process." alt="" coords="21,5,134,31"/>
</map><p id="module-capsul.process">capsul.process module</p>
<section id="module-capsul.process.process">
<span id="capsul-process-process-submodule"></span><h2>capsul.process.process submodule<a class="headerlink" href="#module-capsul.process.process" title="Link to this heading">¶</a></h2>
<p>Process main class and infrastructure</p>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h3>
<section id="process">
<h4><a class="reference internal" href="#capsul.process.process.Process" title="capsul.process.process.Process"><code class="xref py py-class docutils literal notranslate"><span class="pre">Process</span></code></a><a class="headerlink" href="#process" title="Link to this heading">¶</a></h4>
</section>
<section id="filecopyprocess">
<h4><a class="reference internal" href="#capsul.process.process.FileCopyProcess" title="capsul.process.process.FileCopyProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileCopyProcess</span></code></a><a class="headerlink" href="#filecopyprocess" title="Link to this heading">¶</a></h4>
</section>
<section id="interactiveprocess">
<h4><a class="reference internal" href="#capsul.process.process.InteractiveProcess" title="capsul.process.process.InteractiveProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">InteractiveProcess</span></code></a><a class="headerlink" href="#interactiveprocess" title="Link to this heading">¶</a></h4>
</section>
<section id="nipypeprocess">
<h4><a class="reference internal" href="#capsul.process.process.NipypeProcess" title="capsul.process.process.NipypeProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">NipypeProcess</span></code></a><a class="headerlink" href="#nipypeprocess" title="Link to this heading">¶</a></h4>
</section>
<section id="processmeta">
<h4><a class="reference internal" href="#capsul.process.process.ProcessMeta" title="capsul.process.process.ProcessMeta"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessMeta</span></code></a><a class="headerlink" href="#processmeta" title="Link to this heading">¶</a></h4>
</section>
<section id="processresult">
<h4><a class="reference internal" href="#capsul.process.process.ProcessResult" title="capsul.process.process.ProcessResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessResult</span></code></a><a class="headerlink" href="#processresult" title="Link to this heading">¶</a></h4>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="capsul.process.process.FileCopyProcess">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">capsul.process.process.</span></span><span class="sig-name descname"><span class="pre">FileCopyProcess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">activate_copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs_to_copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs_to_clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs_to_symlink</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_temp_output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#FileCopyProcess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.FileCopyProcess" title="Link to this definition">¶</a></dt>
<dd><p>A specific process that copies all the input files.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="capsul.process.process.FileCopyProcess.copied_inputs">
<span class="sig-name descname"><span class="pre">copied_inputs</span></span><a class="headerlink" href="#capsul.process.process.FileCopyProcess.copied_inputs" title="Link to this definition">¶</a></dt>
<dd><p>the list of copied file parameters {param: dst_value}</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="capsul.process.process.FileCopyProcess.copied_files">
<span class="sig-name descname"><span class="pre">copied_files</span></span><a class="headerlink" href="#capsul.process.process.FileCopyProcess.copied_files" title="Link to this definition">¶</a></dt>
<dd><p>copied files {param: [dst_value1, …]}</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.FileCopyProcess.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#capsul.process.process.FileCopyProcess.__call__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.FileCopyProcess._update_input_traits">
<span class="sig-name descname"><span class="pre">_update_input_traits</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#FileCopyProcess._update_input_traits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.FileCopyProcess._update_input_traits" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.FileCopyProcess._get_process_arguments">
<span class="sig-name descname"><span class="pre">_get_process_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#FileCopyProcess._get_process_arguments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.FileCopyProcess._get_process_arguments" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.FileCopyProcess._copy_input_files">
<span class="sig-name descname"><span class="pre">_copy_input_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#FileCopyProcess._copy_input_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.FileCopyProcess._copy_input_files" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Type ‘FileCopyProcess.help()’ for a full description of this process parameters.</p></li>
<li><p>Type ‘&lt;FileCopyProcess&gt;.get_input_spec()’ for a full description of this process input trait types.</p></li>
<li><p>Type ‘&lt;FileCopyProcess&gt;.get_output_spec()’ for a full description of this process output trait types.</p></li>
</ul>
</div>
<p>Initialize the FileCopyProcess class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>activate_copy</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>default True</em><em>)</em>) – if False this class is transparent and behaves as a Process class.</p></li>
<li><p><strong>inputs_to_copy</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – the list of inputs to copy.
If None, all the input files are copied.</p></li>
<li><p><strong>inputs_to_clean</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – some copied inputs that can be deleted at the end of the
processing. If None, all copied files will be cleaned.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>optional default None</em><em>)</em>) – where the files are copied.
If None, the output directory will be used, unless
use_temp_output_dir is set.</p></li>
<li><p><strong>inputs_to_symlink</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – as inputs_to_copy, but for files which should be symlinked</p></li>
<li><p><strong>use_temp_output_dir</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if True, the output_directory parameter is set to a temp one during
execution, then outputs are copied / moved / hardlinked to the
final location. This is useful when several parallel jobs are
working in the same directory and may write the same intermediate
files (SPM does this a lot).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="capsul.process.process.InteractiveProcess">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">capsul.process.process.</span></span><span class="sig-name descname"><span class="pre">InteractiveProcess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#InteractiveProcess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.InteractiveProcess" title="Link to this definition">¶</a></dt>
<dd><p>Base class for interactive processes. The value of the is_interactive
parameter determine if either the process can be run in background
(eventually remotely) as a standard process (is_interactive = False)
or if the process must be executed interactively in the user environment
(is_interactive = False).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Type ‘InteractiveProcess.help()’ for a full description of this process parameters.</p></li>
<li><p>Type ‘&lt;InteractiveProcess&gt;.get_input_spec()’ for a full description of this process input trait types.</p></li>
<li><p>Type ‘&lt;InteractiveProcess&gt;.get_output_spec()’ for a full description of this process output trait types.</p></li>
</ul>
</div>
<p>Initialize the Process class.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="capsul.process.process.NipypeProcess">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">capsul.process.process.</span></span><span class="sig-name descname"><span class="pre">NipypeProcess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#NipypeProcess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.NipypeProcess" title="Link to this definition">¶</a></dt>
<dd><p>Base class used to wrap nipype interfaces.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Type ‘NipypeProcess.help()’ for a full description of this process parameters.</p></li>
<li><p>Type ‘&lt;NipypeProcess&gt;.get_input_spec()’ for a full description of this process input trait types.</p></li>
<li><p>Type ‘&lt;NipypeProcess&gt;.get_output_spec()’ for a full description of this process output trait types.</p></li>
</ul>
</div>
<p>Initialize the NipypeProcess class.</p>
<p>NipypeProcess instance gets automatically an additional user trait
‘output_directory’.</p>
<p>This class also fix some lacks of the nipype version ‘0.10.0’.</p>
<p>NipypeProcess is normally not instantiated directly, but through the
CapsulEngine factory, using a nipype interface name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ce</span> <span class="o">=</span> <span class="n">capsul_engine</span><span class="p">()</span>
<span class="n">npproc</span> <span class="o">=</span> <span class="n">ce</span><span class="o">.</span><span class="n">get_process_instance</span><span class="p">(</span><span class="s1">&#39;nipype.interfaces.spm.Smooth&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>However, it is now still possible to instantiate it directly, using a
nipype interface class or instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npproc</span> <span class="o">=</span> <span class="n">NipypeProcess</span><span class="p">(</span><span class="n">nipype</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">spm</span><span class="o">.</span><span class="n">Smooth</span><span class="p">)</span>
</pre></div>
</div>
<p>NipypeProcess may be subclassed for specialized interfaces. In such a
case, the subclass may provide:</p>
<ul class="simple">
<li><p>(optionally) a class attribute <cite>_nipype_class_type</cite> to specify the</p></li>
</ul>
<p>nipype interface class. If present the nipype interface class or
instance will not be specified in the constructor call.
* (optionally) a <code class="xref py py-meth docutils literal notranslate"><span class="pre">__postinit__()</span></code> method which will be called in
addition to the constructor, but later once the instance is correctly
setup. This <cite>__postinit__</cite> method allows to customize the new class
instance.
* (optionally) a class attribute <cite>_nipype_trait_mapping</cite>: a dict
specifying a translation table between nipype traits names and the
names they will get in the Process instance. By default, inputs get the
same name as in their nipype interface, and outputs are prefixed with
an underscore (‘_’) to avoid names collisions when a trait exists both
in inputs and outputs in nipype. A special trait name
<cite>_spm_script_file</cite> is also used in SPM interfaces to write the matlab
script. It can also be translated to a different name in this dict.</p>
<p>Subclasses should preferably <em>not</em> define an __init__ method, because
it may be called twice if no precaution is taken to avoid it (a
<cite>__np_init_done__</cite> instance attribute is set once init is done the
first time).</p>
<p>Ex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Smooth</span><span class="p">(</span><span class="n">NipypeProcess</span><span class="p">):</span>
    <span class="n">_nipype_class_type</span> <span class="o">=</span> <span class="n">spm</span><span class="o">.</span><span class="n">Smooth</span>
    <span class="n">_nipype_trait_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;smoothed_files&#39;</span><span class="p">:</span> <span class="s1">&#39;smoothed_files&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_spm_script_file&#39;</span><span class="p">:</span> <span class="s1">&#39;spm_script_file&#39;</span><span class="p">}</span>

<span class="n">smooth</span> <span class="o">=</span> <span class="n">Smooth</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nipype_instance</strong> (<em>nipype interface</em><em> (</em><em>mandatory</em><em>, </em><em>except from internals</em><em>)</em>) – the nipype interface we want to wrap in capsul.</p></li>
<li><p><strong>use_temp_output_dir</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> or </em><em>None</em>) – use a temp working directory during processing</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="capsul.process.process.NipypeProcess._nipype_interface">
<span class="sig-name descname"><span class="pre">_nipype_interface</span></span><a class="headerlink" href="#capsul.process.process.NipypeProcess._nipype_interface" title="Link to this definition">¶</a></dt>
<dd><p>private attribute to store the nipye interface</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Interface</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="capsul.process.process.NipypeProcess._nipype_module">
<span class="sig-name descname"><span class="pre">_nipype_module</span></span><a class="headerlink" href="#capsul.process.process.NipypeProcess._nipype_module" title="Link to this definition">¶</a></dt>
<dd><p>private attribute to store the nipye module name</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="capsul.process.process.NipypeProcess._nipype_class">
<span class="sig-name descname"><span class="pre">_nipype_class</span></span><a class="headerlink" href="#capsul.process.process.NipypeProcess._nipype_class" title="Link to this definition">¶</a></dt>
<dd><p>private attribute to store the nipye class name</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="capsul.process.process.NipypeProcess._nipype_interface_name">
<span class="sig-name descname"><span class="pre">_nipype_interface_name</span></span><a class="headerlink" href="#capsul.process.process.NipypeProcess._nipype_interface_name" title="Link to this definition">¶</a></dt>
<dd><p>private attribute to store the nipye interface name</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.NipypeProcess.help">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nipype_interface</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returnhelp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#NipypeProcess.help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.NipypeProcess.help" title="Link to this definition">¶</a></dt>
<dd><p>Method to print the full wrapped nipype interface help.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cls</strong> (<em>process class</em><em> (</em><em>mandatory</em><em>)</em>) – a nipype process class</p></li>
<li><p><strong>nipype_instance</strong> (<em>nipype interface</em><em> (</em><em>mandatory</em><em>)</em>) – a nipype interface object that will be documented.</p></li>
<li><p><strong>returnhelp</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True return the help string message,
otherwise display it on the console.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.NipypeProcess.requirements">
<span class="sig-name descname"><span class="pre">requirements</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#NipypeProcess.requirements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.NipypeProcess.requirements" title="Link to this definition">¶</a></dt>
<dd><p>Requirements needed to run the process. It is a dictionary which keys are config/settings modules and values are requests for them.</p>
<p>The default implementation returns an empty dict (no requirements), and
should be overloaded by processes which actually have requirements.</p>
<p>Ex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;spm&#39;</span><span class="p">:</span> <span class="s1">&#39;version &gt;= &quot;12&quot; and standalone == &quot;True&quot;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.NipypeProcess.set_output_directory">
<span class="sig-name descname"><span class="pre">set_output_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#NipypeProcess.set_output_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.NipypeProcess.set_output_directory" title="Link to this definition">¶</a></dt>
<dd><p>Set the process output directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>out_dir</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – the output directory</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.NipypeProcess.set_usedefault">
<span class="sig-name descname"><span class="pre">set_usedefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#NipypeProcess.set_usedefault"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.NipypeProcess.set_usedefault" title="Link to this definition">¶</a></dt>
<dd><p>Set the value of the usedefault attribute on a given parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameter</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – name of the parameter to modify.</p></li>
<li><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>mandatory</em><em>)</em>) – value set to the usedefault attribute</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="capsul.process.process.Process">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">capsul.process.process.</span></span><span class="sig-name descname"><span class="pre">Process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process" title="Link to this definition">¶</a></dt>
<dd><p>A process is an atomic component that contains a processing.</p>
<p>A process is typically an object with typed parameters, and an execution
function. Parameters are described using Enthought
<a class="reference external" href="http://docs.enthought.com/traits/">traits</a> through Soma-Base
<a class="reference external" href="http://brainvisa.info/soma-base/sphinx/api.html#soma.controller.controller.Controller">Controller</a>
base class.</p>
<p>In addition to describing its parameters, a Process must implement its
execution function, either through a python method, by overloading
<code class="xref py py-meth docutils literal notranslate"><span class="pre">_run_process()</span></code>, or through a commandline execution, by overloading
<a class="reference internal" href="#capsul.process.process.Process.get_commandline" title="capsul.process.process.Process.get_commandline"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_commandline()</span></code></a>. The second way allows to run on a remote
processing machine which has not necessary capsul, nor python, installed.</p>
<p>Parameters are declared or queried using the traits API, and their values
are in the process instance variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="kn">from</span> <span class="nn">capsul.api</span> <span class="kn">import</span> <span class="n">Process</span>
<span class="kn">import</span> <span class="nn">traits.api</span> <span class="k">as</span> <span class="nn">traits</span>

<span class="k">class</span> <span class="nc">MyProcess</span><span class="p">(</span><span class="n">Process</span><span class="p">):</span>

    <span class="c1"># a class trait</span>
    <span class="n">param1</span> <span class="o">=</span> <span class="n">traits</span><span class="o">.</span><span class="n">Str</span><span class="p">(</span><span class="s1">&#39;def_param1&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MyProcess</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="c1"># declare an input param</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_trait</span><span class="p">(</span><span class="s1">&#39;param2&#39;</span><span class="p">,</span> <span class="n">traits</span><span class="o">.</span><span class="n">Int</span><span class="p">())</span>
        <span class="c1"># declare an output param</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_trait</span><span class="p">(</span><span class="s1">&#39;out_param&#39;</span><span class="p">,</span> <span class="n">traits</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_run_process</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_param</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;param1:&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">param1</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;param2:&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">param2</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>

<span class="c1"># run it with parameters</span>
<span class="n">MyProcess</span><span class="p">()(</span><span class="n">param2</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">out_param</span><span class="o">=</span><span class="s1">&#39;/tmp/log.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Note about the File and Directory traits</strong></p>
<p>The <a class="reference external" href="https://docs.enthought.com/traits/traits_api_reference/trait_types.html#traits.trait_types.File" title="(in traits v6.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> trait type represents a file
parameter. A file is actually two things: a filename (string), and the file itself (on the filesystem). For an input it is OK not to distinguish them, but for an output, there are two different cases:</p>
<ul class="simple">
<li><p>the file (on the filesystem) is an output, but the filename (string) is
given as an input: this is the classical “commandline” behavior, when we
tell the program where it should write its output file.</p></li>
<li><p>the file is an output, and the filename is also an output: this is rather a
“function return value” behavior: the process determines internally where
it should write the file, and tells as an output where it did.</p></li>
</ul>
<p>To distinguish these two cases, in Capsul we normally add in the
<a class="reference external" href="https://docs.enthought.com/traits/traits_api_reference/trait_types.html#traits.trait_types.File" title="(in traits v6.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> or <a class="reference external" href="https://docs.enthought.com/traits/traits_api_reference/trait_types.html#traits.trait_types.Directory" title="(in traits v6.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Directory</span></code></a>
trait a property <code class="docutils literal notranslate"><span class="pre">input_filename</span></code> which is True when the filename is an
input, and False when the filename is an output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">add_trait</span><span class="p">(</span><span class="s1">&#39;out_file&#39;</span><span class="p">,</span>
               <span class="n">traits</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">input_filename</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
<p>However, as most of our processes are based on the “commandline behavior”
(the filename is an input) and we often forget to specify the
<code class="docutils literal notranslate"><span class="pre">input_filename</span></code> parameter, the default is the “filename is an input”
behavior, when not specified.</p>
<p><strong>Attributes</strong></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="capsul.process.process.Process.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#capsul.process.process.Process.name" title="Link to this definition">¶</a></dt>
<dd><p>the class name.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="capsul.process.process.Process.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#capsul.process.process.Process.id" title="Link to this definition">¶</a></dt>
<dd><p>the string description of the class location (ie., module.class).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="capsul.process.process.Process.log_file">
<span class="sig-name descname"><span class="pre">log_file</span></span><a class="headerlink" href="#capsul.process.process.Process.log_file" title="Link to this definition">¶</a></dt>
<dd><p>if None, the log will be generated in the current directory
otherwise it will be written in log_file path.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a> (default None)</p>
</dd>
</dl>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Type ‘Process.help()’ for a full description of this process parameters.</p></li>
<li><p>Type ‘&lt;Process&gt;.get_input_spec()’ for a full description of this process input trait types.</p></li>
<li><p>Type ‘&lt;Process&gt;.get_output_spec()’ for a full description of this process output trait types.</p></li>
</ul>
</div>
<p>Initialize the Process class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.add_trait">
<span class="sig-name descname"><span class="pre">add_trait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trait</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.add_trait"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.add_trait" title="Link to this definition">¶</a></dt>
<dd><p>Ensure that trait.output and trait.optional are set to a
boolean value before calling parent class add_trait.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.check_requirements">
<span class="sig-name descname"><span class="pre">check_requirements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">environment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'global'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.check_requirements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.check_requirements" title="Link to this definition">¶</a></dt>
<dd><p>Checks the process requirements against configuration settings values
in the attached CapsulEngine. This makes use of the
<a class="reference internal" href="#capsul.process.process.Process.requirements" title="capsul.process.process.Process.requirements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">requirements()</span></code></a> method and checks that there is one matching
config value for each required module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>environment</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – config environment id. Normally corresponds to the computing
resource name, and defaults to “global”.</p></li>
<li><p><strong>message_list</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – if not None, this list will be updated with messages for
unsatisfied requirements, in order to present the user with an
understandable error.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>config</strong> – if None is returned, requirements are not met: the process cannot
run. If a dict is returned, it corresponds to the matching config
values. When no requirements are needed, an empty dict is returned.
A pipeline, if its requirements are met will return a list of
configuration values, because different nodes may require different
config values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a>, <a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)">list</a>, or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_commandline">
<span class="sig-name descname"><span class="pre">get_commandline</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_commandline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_commandline" title="Link to this definition">¶</a></dt>
<dd><p>Method to generate a commandline representation of the process.</p>
<p>If not implemented, it will generate a commandline running python,
instantiating the current process, and calling its
<code class="xref py py-meth docutils literal notranslate"><span class="pre">_run_process()</span></code> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>commandline</strong> – Arguments are in separate elements of the list.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)">list</a> of strings</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_help">
<span class="sig-name descname"><span class="pre">get_help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returnhelp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_help" title="Link to this definition">¶</a></dt>
<dd><p>Generate description of a process parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>returnhelp</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True return the help string message formatted in rst,
otherwise display the raw help string message on the console.</p></li>
<li><p><strong>use_labels</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if True, input and output sections will get a RestructuredText
label to avoid ambiguities.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_input_help">
<span class="sig-name descname"><span class="pre">get_input_help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rst_formating</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_input_help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_input_help" title="Link to this definition">¶</a></dt>
<dd><p>Generate description for process input parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rst_formating</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True generate a rst table with the input descriptions.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>helpstr</strong> – the class input traits help</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_input_spec">
<span class="sig-name descname"><span class="pre">get_input_spec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_input_spec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_input_spec" title="Link to this definition">¶</a></dt>
<dd><p>Method to access the process input specifications.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>outputs</strong> – a string representation of all the input trait specifications.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_inputs">
<span class="sig-name descname"><span class="pre">get_inputs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_inputs" title="Link to this definition">¶</a></dt>
<dd><p>Method to access the process inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>outputs</strong> – a dictionary with all the input trait names and values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_log">
<span class="sig-name descname"><span class="pre">get_log</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_log" title="Link to this definition">¶</a></dt>
<dd><p>Load the logging file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>log</strong> – the content of the log file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_missing_mandatory_parameters">
<span class="sig-name descname"><span class="pre">get_missing_mandatory_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_missing_mandatory_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_missing_mandatory_parameters" title="Link to this definition">¶</a></dt>
<dd><p>Returns a list of parameters which are not optional, and which
value is Undefined or None, or an empty string for a File or
Directory parameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_output_help">
<span class="sig-name descname"><span class="pre">get_output_help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rst_formating</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_output_help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_output_help" title="Link to this definition">¶</a></dt>
<dd><p>Generate description for process output parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rst_formating</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True generate a rst table with the input descriptions.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>helpstr</strong> – the trait output help descriptions</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_output_spec">
<span class="sig-name descname"><span class="pre">get_output_spec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_output_spec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_output_spec" title="Link to this definition">¶</a></dt>
<dd><p>Method to access the process output specifications.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>outputs</strong> – a string representation of all the output trait specifications.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_outputs">
<span class="sig-name descname"><span class="pre">get_outputs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_outputs" title="Link to this definition">¶</a></dt>
<dd><p>Method to access the process outputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>outputs</strong> – a dictionary with all the output trait names and values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_parameter">
<span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_parameter" title="Link to this definition">¶</a></dt>
<dd><p>Method to access the value of a process instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – the trait name we want to modify</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>value</strong> – the trait value we want to access</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)">object</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.get_study_config">
<span class="sig-name descname"><span class="pre">get_study_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.get_study_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.get_study_config" title="Link to this definition">¶</a></dt>
<dd><p>Get (or create) the StudyConfig this process belongs to</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.help">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returnhelp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.help" title="Link to this definition">¶</a></dt>
<dd><p>Method to print the full help.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cls</strong> (<em>process class</em><em> (</em><em>mandatory</em><em>)</em>) – a process class</p></li>
<li><p><strong>returnhelp</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True return the help string message,
otherwise display it on the console.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.make_commandline_argument">
<span class="sig-name descname"><span class="pre">make_commandline_argument</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.make_commandline_argument"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.make_commandline_argument" title="Link to this definition">¶</a></dt>
<dd><p>This helper function may be used to build non-trivial commandline
arguments in get_commandline implementations.
Basically it concatenates arguments, but it also takes care of keeping
track of temporary file objects (if any), and converts non-string
arguments to strings (using repr()).</p>
<p>Ex:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">process</span><span class="o">.</span><span class="n">make_commandline_argument</span><span class="p">(</span><span class="s1">&#39;param=&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">)</span>
</pre></div>
</div>
<p>will return the same as:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;param=&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span>
</pre></div>
</div>
<p>if self.param is a string (file name) or a temporary path.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.params_to_command">
<span class="sig-name descname"><span class="pre">params_to_command</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.params_to_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.params_to_command" title="Link to this definition">¶</a></dt>
<dd><p>Generates a commandline representation of the process.</p>
<p>If not implemented, it will generate a commandline running python,
instantiating the current process, and calling its
<code class="xref py py-meth docutils literal notranslate"><span class="pre">_run_process()</span></code> method.</p>
<p>This method is new in Capsul v3 and is a replacement for
<a class="reference internal" href="#capsul.process.process.Process.get_commandline" title="capsul.process.process.Process.get_commandline"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_commandline()</span></code></a>.</p>
<p>It can be overwritten by custom Process subclasses. Actually each
process should overwrite either <a class="reference internal" href="#capsul.process.process.Process.params_to_command" title="capsul.process.process.Process.params_to_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">params_to_command()</span></code></a> or
<code class="xref py py-meth docutils literal notranslate"><span class="pre">_run_process()</span></code>.</p>
<p>The returned commandline is a list, which first element is a “method”,
and others are the actual commandline with arguments. There are several
methods, the process is free to use either of the supported ones,
depending on how the execution is implemented.</p>
<p><strong>Methods:</strong></p>
<dl>
<dt><cite>capsul_job</cite>: Capsul process run in python</dt><dd><p>The command will run the <code class="xref py py-meth docutils literal notranslate"><span class="pre">_run_process()</span></code> execution method of
the process, after loading input parameters from a JSON dictionary
file. The only second element in the commandline list is the
process identifier (module/class as in
<a class="reference internal" href="engine.html#capsul.engine.CapsulEngine.get_process_instance" title="capsul.engine.CapsulEngine.get_process_instance"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_process_instance()</span></code></a>). The
location of the JSON file will be passed to the job execution
through an environment variable <cite>SOMAWF_INPUT_PARAMS</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="p">[</span><span class="s1">&#39;capsul_job&#39;</span><span class="p">,</span> <span class="s1">&#39;morphologist.capsul.morphologist&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd>
<dt><cite>format_string</cite>: free commandline with replacements for parameters</dt><dd><p>Command arguments can be, or contain, format strings in the shape
<cite>‘%(param)s’</cite>, where <cite>param</cite> is a parameter of the process. This
way we can map values correctly, and call a foreign command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="p">[</span><span class="s1">&#39;format_string&#39;</span><span class="p">,</span> <span class="s1">&#39;ls&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%(input_dir)s</span><span class="s1">&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd>
<dt><cite>json_job</cite>: free commandline with JSON file for input parameters</dt><dd><p>A bit like <cite>capsul_job</cite> but without the automatic wrapper:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="p">[</span><span class="s1">&#39;json_job&#39;</span><span class="p">,</span> <span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;-m&#39;</span><span class="p">,</span> <span class="s1">&#39;my_module&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>commandline</strong> – Arguments are in separate elements of the list.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)">list</a> of strings</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.requirements">
<span class="sig-name descname"><span class="pre">requirements</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.requirements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.requirements" title="Link to this definition">¶</a></dt>
<dd><p>Requirements needed to run the process. It is a dictionary which keys are config/settings modules and values are requests for them.</p>
<p>The default implementation returns an empty dict (no requirements), and
should be overloaded by processes which actually have requirements.</p>
<p>Ex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;spm&#39;</span><span class="p">:</span> <span class="s1">&#39;version &gt;= &quot;12&quot; and standalone == &quot;True&quot;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.run" title="Link to this definition">¶</a></dt>
<dd><p>Obsolete: use self.__call__ instead</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.run_from_commandline">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run_from_commandline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">process_definition</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.run_from_commandline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.run_from_commandline" title="Link to this definition">¶</a></dt>
<dd><p>Run a process from a commandline call. The process name (with module)
are given in argument, input parameters should be passed through a JSON
file which location is in the <code class="docutils literal notranslate"><span class="pre">SOMAWF_INPUT_PARAMS</span></code> environment
variable.</p>
<p>If the process has outputs, the <code class="docutils literal notranslate"><span class="pre">SOMAWF_OUTUT_PARAMS</span></code> environment
variable should contain the location of an output file which will be
written with a dict containing output parameters values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.save_log">
<span class="sig-name descname"><span class="pre">save_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returncode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.save_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.save_log" title="Link to this definition">¶</a></dt>
<dd><p>Method to save process execution information in json format.</p>
<p>If the class attribute <cite>log_file</cite> is not set, a log.json output
file is generated in the process call current working directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>returncode</strong> (<a class="reference internal" href="#capsul.process.process.ProcessResult" title="capsul.process.process.ProcessResult"><em>ProcessResult</em></a>) – the process result return code.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.set_parameter">
<span class="sig-name descname"><span class="pre">set_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protected</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.set_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.set_parameter" title="Link to this definition">¶</a></dt>
<dd><p>Method to set a process instance trait value.</p>
<p>For File and Directory traits the None value is replaced by the
special Undefined trait value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – the trait name we want to modify</p></li>
<li><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a><em> (</em><em>mandatory</em><em>)</em>) – the trait value we want to set</p></li>
<li><p><strong>protected</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>tristate</em><em>)</em>) – if True or False, force the “protected” status of the plug. If None,
keep it as is.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.Process.set_study_config">
<span class="sig-name descname"><span class="pre">set_study_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study_config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#Process.set_study_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.Process.set_study_config" title="Link to this definition">¶</a></dt>
<dd><p>Set a StudyConfig for the process.
Note that it can only be done once: once a non-null StudyConfig has
been assigned to the process, it should not change.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="capsul.process.process.ProcessMeta">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">capsul.process.process.</span></span><span class="sig-name descname"><span class="pre">ProcessMeta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#ProcessMeta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.ProcessMeta" title="Link to this definition">¶</a></dt>
<dd><p>Class used to complete a process docstring</p>
<p>Use a class and not a function for inheritance.</p>
<p>Method to print the full help.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcls</strong> (<em>meta class</em><em> (</em><em>mandatory</em><em>)</em>) – a meta class.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – the process class name.</p></li>
<li><p><strong>bases</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a><em> (</em><em>mandatory</em><em>)</em>) – the direct base classes.</p></li>
<li><p><strong>attrs</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a><em> (</em><em>mandatory</em><em>)</em>) – a dictionary with the class attributes.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="capsul.process.process.ProcessMeta.complement_doc">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">complement_doc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">docstr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#ProcessMeta.complement_doc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.ProcessMeta.complement_doc" title="Link to this definition">¶</a></dt>
<dd><p>complement the process docstring</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="capsul.process.process.ProcessResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">capsul.process.process.</span></span><span class="sig-name descname"><span class="pre">ProcessResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">process</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returncode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/process.html#ProcessResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.process.ProcessResult" title="Link to this definition">¶</a></dt>
<dd><p>Object that contains running information a particular Process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>process</strong> (<em>Process class</em><em> (</em><em>mandatory</em><em>)</em>) – A copy of the <cite>Process</cite> class that was called.</p></li>
<li><p><strong>runtime</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a><em> (</em><em>mandatory</em><em>)</em>) – Execution attributes.</p></li>
<li><p><strong>returncode</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a><em> (</em><em>mandatory</em><em>)</em>) – Execution raw attributes</p></li>
<li><p><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a><em> (</em><em>optional</em><em>)</em>) – Representation of the process inputs.</p></li>
<li><p><strong>outputs</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a><em> (</em><em>optional</em><em>)</em>) – Representation of the process outputs.</p></li>
</ul>
</dd>
</dl>
<p>Initialize the ProcessResult class.</p>
</dd></dl>

</section>
<section id="module-capsul.process.nipype_process">
<span id="capsul-process-nipype-process-submodule"></span><h2>capsul.process.nipype_process submodule<a class="headerlink" href="#module-capsul.process.nipype_process" title="Link to this heading">¶</a></h2>
<p>Utilities to link Capsul and NiPype interfaces</p>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h3>
<section id="nipype-factory">
<h4><a class="reference internal" href="#capsul.process.nipype_process.nipype_factory" title="capsul.process.nipype_process.nipype_factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">nipype_factory()</span></code></a><a class="headerlink" href="#nipype-factory" title="Link to this heading">¶</a></h4>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="capsul.process.nipype_process.nipype_factory">
<span class="sig-prename descclassname"><span class="pre">capsul.process.nipype_process.</span></span><span class="sig-name descname"><span class="pre">nipype_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nipype_instance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class=&lt;class</span> <span class="pre">'capsul.process.process.NipypeProcess'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/nipype_process.html#nipype_factory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.nipype_process.nipype_factory" title="Link to this definition">¶</a></dt>
<dd><p>From a nipype class instance generate dynamically a process
instance that encapsulate the nipype instance.</p>
<p>This function clones the nipye traits (also convert special traits) and
connects the process and nipype instances traits.</p>
<p>A new ‘output_directory’ nipype input trait is created.</p>
<p>Since nipype inputs and outputs are separated and thus can have
the same names, the nipype process outputs are prefixed with ‘_’.</p>
<p>It also monkey patch some nipype functions in order to execute the
process in a specific directory:
the monkey patching has been written for Nipype version ‘0.10.0’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nipype_instance</strong> (<em>instance</em><em> (</em><em>mandatory</em><em>)</em>) – a nipype interface instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>process_instance</strong> – a process instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>instance</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_run_interface</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">_list_outputs</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">_gen_filename</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">_parse_inputs</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">sync_nypipe_traits</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">sync_process_output_traits</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">clone_nipype_trait</span></code></p>
</div>
</dd></dl>

</section>
<section id="module-capsul.process.runprocess">
<span id="capsul-process-runprocess-submodule"></span><h2>capsul.process.runprocess submodule<a class="headerlink" href="#module-capsul.process.runprocess" title="Link to this heading">¶</a></h2>
<p>capsul.process.runprocess is not a real python module, but rather an executable script with commandline arguments and options parsing. It is provided as a module just to be easily called via the python command in a portable way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">capsul</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">runprocess</span> <span class="o">&lt;</span><span class="n">process</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">process</span> <span class="n">arguments</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id1">
<h3>Classes<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<section id="processparamerror">
<h4><a class="reference internal" href="#capsul.process.runprocess.ProcessParamError" title="capsul.process.runprocess.ProcessParamError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessParamError</span></code></a><a class="headerlink" href="#processparamerror" title="Link to this heading">¶</a></h4>
</section>
</section>
<section id="id2">
<h3>Functions<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<section id="set-process-param-from-str">
<h4><a class="reference internal" href="#capsul.process.runprocess.set_process_param_from_str" title="capsul.process.runprocess.set_process_param_from_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_process_param_from_str()</span></code></a><a class="headerlink" href="#set-process-param-from-str" title="Link to this heading">¶</a></h4>
</section>
<section id="get-process-with-params">
<h4><a class="reference internal" href="#capsul.process.runprocess.get_process_with_params" title="capsul.process.runprocess.get_process_with_params"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_process_with_params()</span></code></a><a class="headerlink" href="#get-process-with-params" title="Link to this heading">¶</a></h4>
</section>
<section id="run-process-with-distribution">
<h4><a class="reference internal" href="#capsul.process.runprocess.run_process_with_distribution" title="capsul.process.runprocess.run_process_with_distribution"><code class="xref py py-func docutils literal notranslate"><span class="pre">run_process_with_distribution()</span></code></a><a class="headerlink" href="#run-process-with-distribution" title="Link to this heading">¶</a></h4>
</section>
<section id="convert-commandline-parameter">
<h4><code class="xref py py-func docutils literal notranslate"><span class="pre">convert_commandline_parameter()</span></code><a class="headerlink" href="#convert-commandline-parameter" title="Link to this heading">¶</a></h4>
</section>
<section id="main">
<h4><a class="reference internal" href="#capsul.process.runprocess.main" title="capsul.process.runprocess.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">main()</span></code></a><a class="headerlink" href="#main" title="Link to this heading">¶</a></h4>
</section>
</section>
<dl class="py exception">
<dt class="sig sig-object py" id="capsul.process.runprocess.ProcessParamError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">capsul.process.runprocess.</span></span><span class="sig-name descname"><span class="pre">ProcessParamError</span></span><a class="reference internal" href="../_modules/capsul/process/runprocess.html#ProcessParamError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.runprocess.ProcessParamError" title="Link to this definition">¶</a></dt>
<dd><p>Exception used in the <code class="docutils literal notranslate"><span class="pre">runprocess</span></code> module</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="capsul.process.runprocess.get_process_with_params">
<span class="sig-prename descclassname"><span class="pre">capsul.process.runprocess.</span></span><span class="sig-name descname"><span class="pre">get_process_with_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">process_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterated_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/runprocess.html#get_process_with_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.runprocess.get_process_with_params" title="Link to this definition">¶</a></dt>
<dd><p>Instantiate a process, or an iteration over processes, and fill in its
parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>process_name</strong> (<em>string</em>) – name (mosule and class) of the process to instantiate</p></li>
<li><p><strong>study_config</strong> (<em>StudyConfig instance</em>) – </p></li>
<li><p><strong>iterated_params</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em> (</em><em>optional</em><em>)</em>) – parameters names which should be iterated on. If this list is not
empty, an iteration process is built. All parameters values
corresponding to the selected names should be lists with the same size.</p></li>
<li><p><strong>attributes</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a><em> (</em><em>optional</em><em>)</em>) – dictionary of attributes for completion system.</p></li>
<li><p><strong>*args</strong> – sequential parameters for the process. In iteration, “normal”
parameters are set with the same value for all iterations, and iterated
parameters dispatch their values to each iteration.</p></li>
<li><p><strong>**kwargs</strong> – named parameters for the process. Same as above for iterations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>process</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Process instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="capsul.process.runprocess.main">
<span class="sig-prename descclassname"><span class="pre">capsul.process.runprocess.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/runprocess.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.runprocess.main" title="Link to this definition">¶</a></dt>
<dd><p>Run the <a class="reference internal" href="#module-capsul.process.runprocess" title="capsul.process.runprocess"><code class="xref py py-mod docutils literal notranslate"><span class="pre">capsul.process.runprocess</span></code></a> module as a commandline</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="capsul.process.runprocess.run_process_with_distribution">
<span class="sig-prename descclassname"><span class="pre">capsul.process.runprocess.</span></span><span class="sig-name descname"><span class="pre">run_process_with_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_soma_workflow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rsa_key_pass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">queue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_file_processing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_processing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_workflow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_failed_workflow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_workflow_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/runprocess.html#run_process_with_distribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.runprocess.run_process_with_distribution" title="Link to this definition">¶</a></dt>
<dd><p>Run the given process, either sequentially or distributed through
Soma-Workflow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>study_config</strong> (<em>StudyConfig instance</em>) – </p></li>
<li><p><strong>process</strong> (<em>Process instance</em>) – the process to execute (or pipeline, or iteration…)</p></li>
<li><p><strong>use_soma_workflow</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> or </em><em>None</em><em> (</em><em>default=None</em><em>)</em>) – if False, run sequentially, otherwise use Soma-Workflow. Its
configuration has to be setup and valid for non-local execution, and
additional file transfer options may be used.</p></li>
<li><p><strong>resource_id</strong> (<em>string</em><em> (</em><em>default=None</em><em>)</em>) – soma-workflow resource ID, defaults to localhost</p></li>
<li><p><strong>password</strong> (<em>string</em>) – password to access the remote computing resource. Do not specify it if
using a ssh key.</p></li>
<li><p><strong>config</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a><em> (</em><em>optional</em><em>)</em>) – Soma-Workflow config: Not used for now…</p></li>
<li><p><strong>rsa_key_pass</strong> (<em>string</em>) – RSA key password, for ssh key access</p></li>
<li><p><strong>queue</strong> (<em>string</em>) – Queue to use on the computing resource. If not specified, use the
default queue.</p></li>
<li><p><strong>input_file_processing</strong> (<em>brainvisa.workflow.ProcessToSomaWorkflow processing code</em>) – Input files processing: local_path (NO_FILE_PROCESSING),
transfer (FILE_TRANSFER), translate (SHARED_RESOURCE_PATH),
or translate_shared (BV_DB_SHARED_PATH).</p></li>
<li><p><strong>output_file_processing</strong> (<em>same as for input_file_processing</em>) – Output files processing: local_path (NO_FILE_PROCESSING),
transfer (FILE_TRANSFER), or translate (SHARED_RESOURCE_PATH).
The default is local_path.</p></li>
<li><p><strong>keep_workflow</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – keep the workflow in the computing resource database after execution.
By default it is removed.</p></li>
<li><p><strong>keep_failed_workflow</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – keep the workflow in the computing resource database after execution,
if it has failed. By default it is removed.</p></li>
<li><p><strong>write_workflow_only</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – if specified, this is an output filename where the workflow file will
be written. The workflow will not be actually run, because int his
situation the user probably wants to use the workflow on his own.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="capsul.process.runprocess.set_process_param_from_str">
<span class="sig-prename descclassname"><span class="pre">capsul.process.runprocess.</span></span><span class="sig-name descname"><span class="pre">set_process_param_from_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">process</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/runprocess.html#set_process_param_from_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.runprocess.set_process_param_from_str" title="Link to this definition">¶</a></dt>
<dd><p>Set a process parameter from a string representation.</p>
</dd></dl>

</section>
<section id="module-capsul.process.xml">
<span id="capsul-process-xml-submodule"></span><h2>capsul.process.xml submodule<a class="headerlink" href="#module-capsul.process.xml" title="Link to this heading">¶</a></h2>
<p>Read and write a Process as an XML file.</p>
<section id="id3">
<h3>Classes<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<section id="xmlprocess">
<h4><a class="reference internal" href="#capsul.process.xml.XMLProcess" title="capsul.process.xml.XMLProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">XMLProcess</span></code></a><a class="headerlink" href="#xmlprocess" title="Link to this heading">¶</a></h4>
</section>
</section>
<section id="id4">
<h3>Functions<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<section id="string-to-value">
<h4><a class="reference internal" href="#capsul.process.xml.string_to_value" title="capsul.process.xml.string_to_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">string_to_value()</span></code></a><a class="headerlink" href="#string-to-value" title="Link to this heading">¶</a></h4>
</section>
<section id="trait-from-xml">
<h4><a class="reference internal" href="#capsul.process.xml.trait_from_xml" title="capsul.process.xml.trait_from_xml"><code class="xref py py-func docutils literal notranslate"><span class="pre">trait_from_xml()</span></code></a><a class="headerlink" href="#trait-from-xml" title="Link to this heading">¶</a></h4>
</section>
<section id="create-xml-process">
<h4><a class="reference internal" href="#capsul.process.xml.create_xml_process" title="capsul.process.xml.create_xml_process"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_xml_process()</span></code></a><a class="headerlink" href="#create-xml-process" title="Link to this heading">¶</a></h4>
</section>
</section>
<section id="decorator">
<h3>Decorator<a class="headerlink" href="#decorator" title="Link to this heading">¶</a></h3>
<section id="xml-process">
<h4><a class="reference internal" href="#capsul.process.xml.xml_process" title="capsul.process.xml.xml_process"><code class="xref py py-func docutils literal notranslate"><span class="pre">xml_process()</span></code></a><a class="headerlink" href="#xml-process" title="Link to this heading">¶</a></h4>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="capsul.process.xml.XMLProcess">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">capsul.process.xml.</span></span><span class="sig-name descname"><span class="pre">XMLProcess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/xml.html#XMLProcess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.xml.XMLProcess" title="Link to this definition">¶</a></dt>
<dd><p>Base class of all generated classes for processes defined as a Python
function decorated with an XML string.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Type ‘XMLProcess.help()’ for a full description of this process parameters.</p></li>
<li><p>Type ‘&lt;XMLProcess&gt;.get_input_spec()’ for a full description of this process input trait types.</p></li>
<li><p>Type ‘&lt;XMLProcess&gt;.get_output_spec()’ for a full description of this process output trait types.</p></li>
</ul>
</div>
<p>Initialize the Process class.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="capsul.process.xml.create_xml_process">
<span class="sig-prename descclassname"><span class="pre">capsul.process.xml.</span></span><span class="sig-name descname"><span class="pre">create_xml_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xml</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/xml.html#create_xml_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.xml.create_xml_process" title="Link to this definition">¶</a></dt>
<dd><p>Create a new process class given a Python function and a string containing
the corresponding Capsul XML 2.0 definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – name of the module for the created Process class (the Python module is
not modified).</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – name of the new process class</p></li>
<li><p><strong>function</strong> (<em>callable</em><em> (</em><em>mandatory</em><em>)</em>) – function to call to execute the process.</p></li>
<li><p><strong>xml</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> (</em><em>mandatory</em><em>)</em>) – XML definition of the function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>results</strong> – created process class.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>XMLProcess subclass</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="capsul.process.xml.string_to_value">
<span class="sig-prename descclassname"><span class="pre">capsul.process.xml.</span></span><span class="sig-name descname"><span class="pre">string_to_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/xml.html#string_to_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.xml.string_to_value" title="Link to this definition">¶</a></dt>
<dd><p>Converts a string into a Python value without executing code.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="capsul.process.xml.trait_from_xml">
<span class="sig-prename descclassname"><span class="pre">capsul.process.xml.</span></span><span class="sig-name descname"><span class="pre">trait_from_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/xml.html#trait_from_xml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.xml.trait_from_xml" title="Link to this definition">¶</a></dt>
<dd><p>Creates a trait from an XML element type (&lt;input&gt;, &lt;output&gt; or
&lt;return&gt;).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="capsul.process.xml.xml_process">
<span class="sig-prename descclassname"><span class="pre">capsul.process.xml.</span></span><span class="sig-name descname"><span class="pre">xml_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xml</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/capsul/process/xml.html#xml_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#capsul.process.xml.xml_process" title="Link to this definition">¶</a></dt>
<dd><p>Decorator used to associate a Python function to its Process XML
representation.</p>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">capsul.process</a><ul>
<li><a class="reference internal" href="#module-capsul.process.process">capsul.process.process submodule</a><ul>
<li><a class="reference internal" href="#classes">Classes</a><ul>
<li><a class="reference internal" href="#process"><code class="xref py py-class docutils literal notranslate"><span class="pre">Process</span></code></a></li>
<li><a class="reference internal" href="#filecopyprocess"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileCopyProcess</span></code></a></li>
<li><a class="reference internal" href="#interactiveprocess"><code class="xref py py-class docutils literal notranslate"><span class="pre">InteractiveProcess</span></code></a></li>
<li><a class="reference internal" href="#nipypeprocess"><code class="xref py py-class docutils literal notranslate"><span class="pre">NipypeProcess</span></code></a></li>
<li><a class="reference internal" href="#processmeta"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessMeta</span></code></a></li>
<li><a class="reference internal" href="#processresult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessResult</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#capsul.process.process.FileCopyProcess"><code class="docutils literal notranslate"><span class="pre">FileCopyProcess</span></code></a><ul>
<li><a class="reference internal" href="#capsul.process.process.FileCopyProcess.copied_inputs"><code class="docutils literal notranslate"><span class="pre">FileCopyProcess.copied_inputs</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.FileCopyProcess.copied_files"><code class="docutils literal notranslate"><span class="pre">FileCopyProcess.copied_files</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.FileCopyProcess.__call__"><code class="docutils literal notranslate"><span class="pre">FileCopyProcess.__call__()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.FileCopyProcess._update_input_traits"><code class="docutils literal notranslate"><span class="pre">FileCopyProcess._update_input_traits()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.FileCopyProcess._get_process_arguments"><code class="docutils literal notranslate"><span class="pre">FileCopyProcess._get_process_arguments()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.FileCopyProcess._copy_input_files"><code class="docutils literal notranslate"><span class="pre">FileCopyProcess._copy_input_files()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#capsul.process.process.InteractiveProcess"><code class="docutils literal notranslate"><span class="pre">InteractiveProcess</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.NipypeProcess"><code class="docutils literal notranslate"><span class="pre">NipypeProcess</span></code></a><ul>
<li><a class="reference internal" href="#capsul.process.process.NipypeProcess._nipype_interface"><code class="docutils literal notranslate"><span class="pre">NipypeProcess._nipype_interface</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.NipypeProcess._nipype_module"><code class="docutils literal notranslate"><span class="pre">NipypeProcess._nipype_module</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.NipypeProcess._nipype_class"><code class="docutils literal notranslate"><span class="pre">NipypeProcess._nipype_class</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.NipypeProcess._nipype_interface_name"><code class="docutils literal notranslate"><span class="pre">NipypeProcess._nipype_interface_name</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.NipypeProcess.help"><code class="docutils literal notranslate"><span class="pre">NipypeProcess.help()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.NipypeProcess.requirements"><code class="docutils literal notranslate"><span class="pre">NipypeProcess.requirements()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.NipypeProcess.set_output_directory"><code class="docutils literal notranslate"><span class="pre">NipypeProcess.set_output_directory()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.NipypeProcess.set_usedefault"><code class="docutils literal notranslate"><span class="pre">NipypeProcess.set_usedefault()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#capsul.process.process.Process"><code class="docutils literal notranslate"><span class="pre">Process</span></code></a><ul>
<li><a class="reference internal" href="#capsul.process.process.Process.name"><code class="docutils literal notranslate"><span class="pre">Process.name</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.id"><code class="docutils literal notranslate"><span class="pre">Process.id</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.log_file"><code class="docutils literal notranslate"><span class="pre">Process.log_file</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.add_trait"><code class="docutils literal notranslate"><span class="pre">Process.add_trait()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.check_requirements"><code class="docutils literal notranslate"><span class="pre">Process.check_requirements()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_commandline"><code class="docutils literal notranslate"><span class="pre">Process.get_commandline()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_help"><code class="docutils literal notranslate"><span class="pre">Process.get_help()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_input_help"><code class="docutils literal notranslate"><span class="pre">Process.get_input_help()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_input_spec"><code class="docutils literal notranslate"><span class="pre">Process.get_input_spec()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_inputs"><code class="docutils literal notranslate"><span class="pre">Process.get_inputs()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_log"><code class="docutils literal notranslate"><span class="pre">Process.get_log()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_missing_mandatory_parameters"><code class="docutils literal notranslate"><span class="pre">Process.get_missing_mandatory_parameters()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_output_help"><code class="docutils literal notranslate"><span class="pre">Process.get_output_help()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_output_spec"><code class="docutils literal notranslate"><span class="pre">Process.get_output_spec()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_outputs"><code class="docutils literal notranslate"><span class="pre">Process.get_outputs()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_parameter"><code class="docutils literal notranslate"><span class="pre">Process.get_parameter()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.get_study_config"><code class="docutils literal notranslate"><span class="pre">Process.get_study_config()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.help"><code class="docutils literal notranslate"><span class="pre">Process.help()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.make_commandline_argument"><code class="docutils literal notranslate"><span class="pre">Process.make_commandline_argument()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.params_to_command"><code class="docutils literal notranslate"><span class="pre">Process.params_to_command()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.requirements"><code class="docutils literal notranslate"><span class="pre">Process.requirements()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.run"><code class="docutils literal notranslate"><span class="pre">Process.run()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.run_from_commandline"><code class="docutils literal notranslate"><span class="pre">Process.run_from_commandline()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.save_log"><code class="docutils literal notranslate"><span class="pre">Process.save_log()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.set_parameter"><code class="docutils literal notranslate"><span class="pre">Process.set_parameter()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.process.Process.set_study_config"><code class="docutils literal notranslate"><span class="pre">Process.set_study_config()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#capsul.process.process.ProcessMeta"><code class="docutils literal notranslate"><span class="pre">ProcessMeta</span></code></a><ul>
<li><a class="reference internal" href="#capsul.process.process.ProcessMeta.complement_doc"><code class="docutils literal notranslate"><span class="pre">ProcessMeta.complement_doc()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#capsul.process.process.ProcessResult"><code class="docutils literal notranslate"><span class="pre">ProcessResult</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-capsul.process.nipype_process">capsul.process.nipype_process submodule</a><ul>
<li><a class="reference internal" href="#functions">Functions</a><ul>
<li><a class="reference internal" href="#nipype-factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">nipype_factory()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#capsul.process.nipype_process.nipype_factory"><code class="docutils literal notranslate"><span class="pre">nipype_factory()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-capsul.process.runprocess">capsul.process.runprocess submodule</a><ul>
<li><a class="reference internal" href="#id1">Classes</a><ul>
<li><a class="reference internal" href="#processparamerror"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessParamError</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">Functions</a><ul>
<li><a class="reference internal" href="#set-process-param-from-str"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_process_param_from_str()</span></code></a></li>
<li><a class="reference internal" href="#get-process-with-params"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_process_with_params()</span></code></a></li>
<li><a class="reference internal" href="#run-process-with-distribution"><code class="xref py py-func docutils literal notranslate"><span class="pre">run_process_with_distribution()</span></code></a></li>
<li><a class="reference internal" href="#convert-commandline-parameter"><code class="xref py py-func docutils literal notranslate"><span class="pre">convert_commandline_parameter()</span></code></a></li>
<li><a class="reference internal" href="#main"><code class="xref py py-func docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#capsul.process.runprocess.ProcessParamError"><code class="docutils literal notranslate"><span class="pre">ProcessParamError</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.runprocess.get_process_with_params"><code class="docutils literal notranslate"><span class="pre">get_process_with_params()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.runprocess.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.runprocess.run_process_with_distribution"><code class="docutils literal notranslate"><span class="pre">run_process_with_distribution()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.runprocess.set_process_param_from_str"><code class="docutils literal notranslate"><span class="pre">set_process_param_from_str()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-capsul.process.xml">capsul.process.xml submodule</a><ul>
<li><a class="reference internal" href="#id3">Classes</a><ul>
<li><a class="reference internal" href="#xmlprocess"><code class="xref py py-class docutils literal notranslate"><span class="pre">XMLProcess</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#id4">Functions</a><ul>
<li><a class="reference internal" href="#string-to-value"><code class="xref py py-func docutils literal notranslate"><span class="pre">string_to_value()</span></code></a></li>
<li><a class="reference internal" href="#trait-from-xml"><code class="xref py py-func docutils literal notranslate"><span class="pre">trait_from_xml()</span></code></a></li>
<li><a class="reference internal" href="#create-xml-process"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_xml_process()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#decorator">Decorator</a><ul>
<li><a class="reference internal" href="#xml-process"><code class="xref py py-func docutils literal notranslate"><span class="pre">xml_process()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#capsul.process.xml.XMLProcess"><code class="docutils literal notranslate"><span class="pre">XMLProcess</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.xml.create_xml_process"><code class="docutils literal notranslate"><span class="pre">create_xml_process()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.xml.string_to_value"><code class="docutils literal notranslate"><span class="pre">string_to_value()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.xml.trait_from_xml"><code class="docutils literal notranslate"><span class="pre">trait_from_xml()</span></code></a></li>
<li><a class="reference internal" href="#capsul.process.xml.xml_process"><code class="docutils literal notranslate"><span class="pre">xml_process()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CAPSUL</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CAPSUL</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2023, Populse team &lt;support@brainvisa.info&gt;.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>